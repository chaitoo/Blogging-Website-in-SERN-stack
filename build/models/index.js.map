{"version":3,"sources":["../../src/models/index.js"],"names":["mysql","require","fs","path","Sequelize","config","sequelize","database","username","password","db","readdirSync","__dirname","filter","file","indexOf","forEach","model","import","join","name","Object","keys","modelName","associate","module","exports"],"mappings":"AAAA;;AACA,IAAIA,QAAaC,QAAQ,OAAR,CAAjB;;AAEA,IAAIC,KAAKD,QAAQ,IAAR,CAAT;AACA,IAAIE,OAAOF,QAAQ,MAAR,CAAX;AACA,IAAIG,YAAYH,QAAQ,WAAR,CAAhB;AACA,IAAMI,SAAS;AACb,gBAAY,MADC;AAEb,gBAAY,SAFC;AAGb,gBAAY,WAHC;AAIb,YAAQ,WAJK;AAKb,eAAW;AALE,CAAf;AAOA,IAAIC,YAAY,IAAIF,SAAJ,CAAcC,OAAOE,QAArB,EAA+BF,OAAOG,QAAtC,EAAgDH,OAAOI,QAAvD,EAAiEJ,MAAjE,CAAhB;AACA,IAAIK,KAAK,EAAT;;AAGAR,GACKS,WADL,CACiBC,SADjB,EAEKC,MAFL,CAEY,UAASC,IAAT,EAAe;AACnB,WAAQA,KAAKC,OAAL,CAAa,GAAb,MAAsB,CAAvB,IAA8BD,SAAS,UAA9C;AACH,CAJL,EAKKE,OALL,CAKa,UAASF,IAAT,EAAe;AACtB,QAAIA,SAAS,UAAb,EAAyB;AACvB,YAAIG,QAAQX,UAAUY,MAAV,CAAiBf,KAAKgB,IAAL,CAAUP,SAAV,EAAqBE,IAArB,CAAjB,CAAZ;AACAJ,WAAGO,MAAMG,IAAT,IAAiBH,KAAjB;AACD;AAGF,CAZL;;AAcAI,OAAOC,IAAP,CAAYZ,EAAZ,EAAgBM,OAAhB,CAAwB,UAASO,SAAT,EAAoB;AACxC,QAAI,eAAeb,GAAGa,SAAH,CAAnB,EAAkC;AAC9Bb,WAAGa,SAAH,EAAcC,SAAd,CAAwBd,EAAxB;AACH;AACJ,CAJD;;AAOAA,GAAGJ,SAAH,GAAeA,SAAf;AACAI,GAAGN,SAAH,GAAeA,SAAf;;AAEAqB,OAAOC,OAAP,GAAiBhB,EAAjB","file":"index.js","sourcesContent":["\"use strict\";\nvar mysql      = require('mysql');\n\nvar fs = require(\"fs\");\nvar path = require(\"path\");\nvar Sequelize = require(\"sequelize\");\nconst config = {\n  \"username\": \"root\",\n  \"password\": \"musejam\",\n  \"database\": \"musefests\",\n  \"host\": \"localhost\",\n  \"dialect\": \"mysql\"\n}\nvar sequelize = new Sequelize(config.database, config.username, config.password, config);\nvar db = {};\n\n\nfs\n    .readdirSync(__dirname)\n    .filter(function(file) {\n        return (file.indexOf(\".\") !== 0) && (file !== \"index.js\");\n    })\n    .forEach(function(file) {\n      if (file === \"users.js\") {\n        var model = sequelize.import(path.join(__dirname, file));\n        db[model.name] = model;\n      }\n\n\n    });\n\nObject.keys(db).forEach(function(modelName) {\n    if (\"associate\" in db[modelName]) {\n        db[modelName].associate(db);\n    }\n});\n\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n"]}